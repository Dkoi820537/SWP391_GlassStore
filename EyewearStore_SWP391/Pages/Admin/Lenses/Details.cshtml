@page
@model EyewearStore_SWP391.Pages.Admin.Lenses.DetailsModel
@{
    ViewData["Title"] = "Lens Details";
    Layout = "_Layout";
}

<link rel="stylesheet" href="~/css/lenses-admin.css" asp-append-version="true" />

<div class="admin-container">
    <!-- Breadcrumb -->
    <nav class="admin-breadcrumb" aria-label="breadcrumb">
        <a href="/">Home</a>
        <span class="separator">›</span>
        <a href="/Admin">Admin</a>
        <span class="separator">›</span>
        <a href="/Admin/Lenses">Lenses</a>
        <span class="separator">›</span>
        <span>Details</span>
    </nav>

    <!-- Content -->
    <div class="details-container">
        <!-- Image Gallery -->
        <div class="details-gallery" id="detailsGallery">
            <div class="details-main-image" id="detailsMainImage">
                <div class="loading-spinner"></div>
            </div>
            <div class="details-thumbnails" id="detailsThumbnails"></div>
        </div>

        <!-- Lens Information -->
        <div class="details-info" id="detailsInfo">
            <div class="loading-spinner"></div>
            <p>Loading lens details...</p>
        </div>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div id="deleteModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="deleteModalTitle">
    <div class="modal-content">
        <h2 id="deleteModalTitle" class="modal-title">Confirm Delete</h2>
        <div class="modal-body">
            <p>Are you sure you want to delete this lens? This action will mark the lens as inactive (out of stock).</p>
        </div>
        <div class="modal-actions">
            <button type="button" class="btn btn-secondary" onclick="LensAdmin.hideDeleteModal()">Cancel</button>
            <button type="button" class="btn btn-primary" style="background: var(--error);" onclick="LensAdmin.executeDelete()">Delete</button>
        </div>
    </div>
</div>

<!-- Loading Overlay -->
<div id="loadingOverlay" class="loading-overlay" style="display: none;">
    <div class="loading-spinner"></div>
</div>

<!-- Toast Container -->
<div id="toastContainer" class="toast-container"></div>

@section Scripts {
    <script src="~/js/lenses-admin.js" asp-append-version="true"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            LensAdmin.init({ page: 'details', lensId: @Model.LensId });
        });
    </script>
}
